{% extends 'base.html' %} 

{% block title %}
<title>history-bookroom</title>
{% endblock %} 

{% block body %}
<div class="main-container">
  <div class="bookroom-title">
    <h1>HISTORY BOOKROOM</h1> 
  </div>
<div class="search-trigger-container search-form-5" id="search-button">
    <label>
        <input type="text" readonly name="q" placeholder="HISTORYの中でさがす">
    </label>
    <button type="button" aria-label="検索"></button>
</div>
  

  <div id="bookroom-list"> 
    {% for bookroom in paginated_bookrooms %}
    <div class="room-item-card"> {# Card for each memo #}
      <div class="room-content">
        <a href="{{ url_for('detail', bookroom_id=bookroom.id) }}" class="bookroom-to-message">
        <h3 class="room-title">{{ bookroom.name }}</h3>
        <p class="room-description">{{ bookroom.description }}</p>
      </a>
      </div>
      <div class="room-group">
        <span class="room-date">{{bookroom.created_at}}</span>
        <span class="room-category {{ bookroom.category_tag | default('uncategorized') }}">
          {{ bookroom.category | default('未分類') }}
        </span>
      </div>
      <div class="reaction-icon">
      </div>
    </div>
    {% endfor %}
    {% include 'modal/search_history.html'%}
    
    <div class="pagination-container">
      {{ pagination.info }}
      {{ pagination.links }}
    </div>
  </div>
</div>
{% endblock %} 

{% block script %}
<script type="text/javascript">
  // prettier-ignore
  const bookrooms = JSON.parse('{{ paginated_bookrooms|tojson }}'); 
</script>
<script
  src="{{url_for('static',filename='js/bookroom/search.js')}}"
  type="module"
></script>
{% endblock %}
